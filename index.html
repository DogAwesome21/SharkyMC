<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>SharkyMC</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="styles.css">
</head>

<body>
    <nav class="navbar">
        <div class="nav-left">SharkyMC</div>
        <div class="nav-links">
            <a href="index.html">Home</a>
            <a href="team.html">Our Team</a>
            <a href="rules.html">Rules</a>
        </div>
        <a class="discord-button" href="https://discord.gg/Jx9tveNVDY" target="_blank">Join Discord</a>
    </nav>

    <section class="hero">
        <div class="hero-content">
            <h1>SharkyMC</h1>
            <p>The ultimate multiplayer Minecraft experience.</p>
            <button class="copy-ip-btn" onclick="scrollToConnect()">Connect</button>
        </div>
    </section>

    <section id="connect" class="connect-section glass">
        <h2>Connect to SharkyMC</h2>

        <div class="status-box glass">
            <p id="status-text">Checking server status...</p>
            <p id="players-online"></p>
        </div>

        <div class="ip-container">
            <div class="glass ip-box">
                <h3>Java IP</h3>
                <p>sharkymc.falixsrv.me</p>
            </div>

            <div class="glass ip-box">
                <h3>Bedrock Port</h3>
                <p>42914</p>
            </div>
        </div>
    </section>

    <script>
        function scrollToConnect() {
            document.getElementById("connect").scrollIntoView({ behavior: "smooth" });
        }

        async function fetchStatus() {
            try {
                const res = await fetch("https://api.mcsrvstat.us/2/sharkymc.falixsrv.me");
                const data = await res.json();

                if (data.online) {
                    document.getElementById("status-text").innerHTML = "Server is ONLINE";
                    document.getElementById("players-online").innerHTML =
                        "Players Online: " + data.players.online;
                } else {
                    document.getElementById("status-text").innerHTML = "Server is OFFLINE";
                    document.getElementById("players-online").innerHTML = "";
                }
            } catch (e) {
                document.getElementById("status-text").innerHTML = "Error fetching status.";
            }
        }

        fetchStatus();
        setInterval(fetchStatus, 30000);
    </script>
</body>
</html>
